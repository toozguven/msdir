ngapp.factory("factory",["$http","$rootScope","$location","$route","$window","$timeout",function(n,t,i,r){ngRootScope=t;ngRootScope.isOnline=-1;ngRootScope.isPhone=!1;ngRootScope.utc_offset=0;ngRootScope.dst_offset=0;ngRootScope.lat=0;ngRootScope.lon=0;t.reLoadCurrentPage=function(){r.reload()};var u={};return u.getHelpers=function(){return{AppVersion:"0.9 (Build 7)",hasValueFunc:function(n){return n&&n.length>2&&n!="0"&&n!="666"},getContactLocation:function(n,t){var i=n.f+", "+n.l.replace(", "+t,"");return i.length<5?"":i},getGmtString:function(n){try{return n.toString().indexOf("666")>-1?"":n>0?"+"+n:n==0?"":"-"+n}catch(t){}},getContactImageUrl:function(n){return"https://api.moorestephens.org/i/msdirImg.ashx?cid="+n},getContactProfileUrl:function(n){return"https://onlineforms.moorestephens.org/Contact2/IntDirProfile?id="+n},getFirmProfileUrl:function(n){return"https://onlineforms.moorestephens.org/Firm2/IntDirProfile?id="+n},getMapUrl:function(n){return"https://onlineforms.moorestephens.org/Firm2/IntDirMap?q="+n.lat+","+n.lon},getDirectionsUrl:function(n){return"https://onlineforms.moorestephens.org/Firm2/IntDirDirections?daddr="+n.lat+","+n.lon+"&saddr="+ngRootScope.lat+","+ngRootScope.lon},getTel:function(n){try{return n.replace(/\s/g,"").replace("(0)","")}catch(t){return n}},getFirmStatus:function(n){return n&&n.st?n.st:""},f:function(n){t.menuVisible&&t.doMenuClick();t.slide="slide-left";this.g("/f/"+n,1)},reo:function(n){t.menuVisible&&t.doMenuClick();t.slide="slide-left";this.g("/reo/"+n,1)},c:function(n){t.menuVisible&&t.doMenuClick();t.slide="slide-left";this.g("/c/"+n,1)},g:function(n,r){t.slide=r&&r==-1?"slide-right":"slide-left";t.menuVisible&&t.doMenuClick();i.path(n)},goBack:function(n){t.slide="slide-right";t.menuVisible&&t.doMenuClick();history.go(n)},goBack:function(){t.menuVisible&&t.doMenuClick();t.slide="slide-right";history.back(-1)},gotoByIdXXXXX:function(n){i.hash(n)},getNavSelectedCss:function(n){return n=="#"&&i.path()=="/"?"bottomNavSelected":i.path().indexOf(n)>-1?"bottomNavSelected":(i.path().indexOf("/c/")>-1||i.path().indexOf("/countryContacts/")>-1||i.path().indexOf("/countryWithStateContacts/")>-1||i.path().indexOf("/findContacts/")>-1)&&n=="/contacts"?"bottomNavSelected":(i.path().indexOf("/f/")>-1||i.path().indexOf("/country/")>-1||i.path().indexOf("/countryWithState/")>-1||i.path().indexOf("/findFirms/")>-1||i.path().indexOf("/fc/")>-1||i.path().indexOf("/fa/")>-1)&&n=="/firms"?"bottomNavSelected":""},rootScope:ngRootScope,isOnline:function(){return ngRootScope.isOnline!=0},isPhone:function(){return ngRootScope.isPhone},showLoading:!0,renderDelay:555,paging:{pageSize:10,currentPage:0,startFrom:this.currentPage*this.pageSize},getCountryName:function(n){return n=="Former Yugoslav Republic of Macedonia"?"F.Y.R. Macedonia":n=="United States of America"?"USA":n},getUrl:function(n){return n&&n!=""?n.indexOf("http")>-1?n:"http://"+n:""},openWebPage:function(n){t.menuVisible&&t.doMenuClick();var i=document.getElementById(n).value;this.gotoWeb(i)},openWebPage2:function(n){t.menuVisible&&t.doMenuClick();this.gotoWeb(n)},gotoWeb:function(n){if(this.isOnline()==!1)alert("Your device seems to be offline. Please try again when you have an internet connection.");else{var t=confirm("You are about to exit this app and go to a web page. Please confirm or cancel.",function(t){t==1&&window.open(n,"_system")},["Confirm","Cancel"]);t==!0&&window.open(n,"_blank","location=yes")}},closeMenu:function(){t.menuVisible&&t.doMenuClick()},delayModelSetting:function(n,t,i,r){var f="",u;n.$watch(i,function(i){u&&t.cancel(u);f=i;u=t(function(){r(f);try{n.helpers.paging.startFrom=0;n.helpers.paging.currentPage=0;n.mstphPaginate.draw();n.$apply()}catch(t){}},555)})},blockSearchBlur:!1,doSearchBlur:function(){this.blockSearchBlur==!1?setTimeout(function(){jQuery("html, body").animate({scrollTop:0},500)},11):this.blockSearchBlur==!1&&setTimeout(function(){jQuery("html, body").animate({scrollTop:0},500)},111)},doSearchFocus:function(){jQuery(window).height()<700&&(jQuery("html, body").animate({scrollTop:jQuery(".mstphSearchbox").offset().top-50},500),this.blockSearchBlur=!0)}}},u}]);
/*
//# sourceMappingURL=factory.min.js.map
*/