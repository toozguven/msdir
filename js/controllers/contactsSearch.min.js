ngapp.controller("FindContactsCtrl",["$scope","factory","dataMgr","$routeParams","$anchorScroll","$location","$timeout",function(n,t,r,u,f,e,o){n.helpers=t.getHelpers();n.helpers.showLoading=!0;n.contacts=[];n.similarPhrases=[];n.similarPhrasesFound=!1;n.search=u.phrase;n.searchDelayed=u.phrase;n.helpers.delayModelSetting(n,o,"search",function(t){n.searchDelayed=t;r.getSimilarPhrasesForContacts(t,function(t){t.length>0?(n.similarPhrases=t,n.similarPhrasesFound=!0):(n.similarPhrases=[],n.similarPhrasesFound=!1)})});n.removeSearch=function(){n.search="";n.searchDelayed="";jQuery(".mstphSearchbox").focus()};n.searchDelayedFunc=function(t){if(n.searchDelayed){if(n.searchDelayed.length<3)return!1;if(n.searchDelayed.indexOf(" ")>-1){var r=n.searchDelayed.split(" "),u=!1,f=!1;for(i=0;i<r.length;i++){if(u=t.n.toLowerCase().indexOf(r[i].toLowerCase())>-1||t.nfs&&t.nfs.toLowerCase().indexOf(r[i].toLowerCase())>-1||t.l.toLowerCase().indexOf(r[i].toLowerCase())>-1,u==!1)return!1;f=!0}return f}return t.n.toLowerCase().indexOf(n.searchDelayed.toLowerCase())>-1||t.nfs&&t.nfs.toLowerCase().indexOf(n.searchDelayed.toLowerCase())>-1||t.l.toLowerCase().indexOf(n.searchDelayed.toLowerCase())>-1}return!n.searchDelayed||n.searchDelayed==""?(n.searchDelayed="",!1):!0};n.relevanceFunc=function(t){return t.fn.toLowerCase().indexOf(n.searchDelayed.toLowerCase())==0?1:t.ln.toLowerCase().indexOf(n.searchDelayed.toLowerCase())==0?1:t.n.toLowerCase().indexOf(n.searchDelayed.toLowerCase())>-1?3:t.nfs&&t.nfs.toLowerCase().indexOf(n.searchDelayed.toLowerCase())>-1?4:t.l.toLowerCase().indexOf(n.searchDelayed.toLowerCase())>-1?5:999};o(function(){r.setScopeContacts(function(t){n.contacts=t;f();n.helpers.showLoading=!1})},n.helpers.renderDelay)}]);
/*
//# sourceMappingURL=contactsSearch.min.js.map
*/