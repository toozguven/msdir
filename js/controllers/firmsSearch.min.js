ngapp.controller("FindFirmsCtrl",["$scope","$filter","factory","dataMgr","$routeParams","$anchorScroll","$location","$timeout",function(n,t,r,u,f,e,o,s){n.helpers=r.getHelpers();n.helpers.showLoading=!0;n.firms=[];n.similarPhrases=[];n.similarPhrasesFound=!1;n.searchDelayed=f.phrase;n.search=f.phrase;n.helpers.delayModelSetting(n,s,"search",function(t){n.searchDelayed=t;u.getSimilarPhrasesForFirms(t,function(t){t.length>0?(n.similarPhrases=t,n.similarPhrasesFound=!0):(n.similarPhrases=[],n.similarPhrasesFound=!1)})});n.searchDelayedFunc=function(t){if(n.searchDelayed){if(n.searchDelayed.length<3)return!1;if(n.searchDelayed.indexOf(" ")>-1){var r=n.searchDelayed.split(" "),u=!1,f=!1;for(i=0;i<r.length;i++){if(u=t.nfs&&t.nfs.toLowerCase().indexOf(r[i].toLowerCase())>-1||t.n.toLowerCase().indexOf(r[i].toLowerCase())>-1||t.l.toLowerCase().indexOf(r[i].toLowerCase())>-1,u==!1)return!1;f=!0}return f}return t.nfs&&t.nfs.toLowerCase().indexOf(n.searchDelayed.toLowerCase())>-1||t.n.toLowerCase().indexOf(n.searchDelayed.toLowerCase())>-1||t.l.toLowerCase().indexOf(n.searchDelayed.toLowerCase())>-1}return!n.searchDelayed||n.searchDelayed==""?(n.searchDelayed="",!1):!0};n.removeSearch=function(){n.search="";n.searchDelayed="";jQuery(".mstphSearchbox").focus()};n.relevanceFunc=function(t){return t.n.toLowerCase().indexOf(n.searchDelayed.toLowerCase())>-1?1:t.l.toLowerCase().indexOf(n.searchDelayed.toLowerCase())>-1?2:999};s(function(){u.setScopeFirms(function(t){n.firms=t;e();n.helpers.showLoading=!1})},n.helpers.renderDelay)}]);
/*
//# sourceMappingURL=firmsSearch.min.js.map
*/